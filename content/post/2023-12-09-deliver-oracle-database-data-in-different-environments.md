+++
title = "오라클 DB 간 환경 설정"
date = "2023-12-09"
description = "서로 다른 환경에서 오라클 데이터베이스 전달 시 발생하는 문제와 해결 방법"
tags = [
    "2023",
    "database",
    "oracle"
]
categories = [
    "indiv"
]
series = ["Study"]
+++

대시보드 데이터를 생성하는 여러 가지 방법 중 하나가 상대 서버와 우리 서버에 같은 형태의 오라클 DB로 전달해 주는 방법이다. <br>
해당 CLI가 매일 특정 시간에 실행되기 때문에 데이터 오류가 있으면 에러 로그를 보면 된다. <br>
그런데 데이터가 올라오지 않는 이슈가 생겨서 DB의 테이블을 조회하려고 하니까 `not a vaild month` 에러가 발생했다.<br>
알고 보니 각각의 환경 설정이 달라서 생긴 에러였다.

따라 이번 글에서는 서로 다른 환경에서 오라클 데이터베이스 전달 시 발생하는 문제에 대한 해결 방법에 대해 알아보려 한다.

<p align="center"><img src="https://github.com/user-attachments/assets/4a2e2b3f-e6eb-4d40-9d3d-c92e05901bf7" width="450"></p>

<!--more-->

## 서로 다른 환경에서 오라클 데이터베이스 전달 시 발생하는 문제와 해결 방법

오라클 데이터베이스 간에 데이터를 전달하는 과정에서 서로 다른 환경 설정으로 인해 발생하는 에러는 흔한 문제라고 한다.<br>
이러한 문제를 해결하기 위해서는 몇 가지 주요한 단계들을 고려해야 한다.

1. 네트워크 및 접속 설정 확인<br>
각각의 데이터베이스에 대한 네트워크 접속 설정을 확인해야 한다.<br>
서로 다른 데이터베이스 간에 접속할 때 필요한 포트, 호스트 주소 등을 검토해야 한다.

2. 버전 및 호환성 확인<br>
데이터베이스 버전의 차이로 인해 발생하는 호환성 문제도 주의해야 한다.<br>
오래된 버전에서 새로운 버전으로 데이터를 이동하는 경우, 호환성 문제가 발생할 수 있다.

3. 문자 인코딩 및 로캘 설정<br>
각 데이터베이스의 문자 인코딩과 로캘 설정이 서로 다를 경우, 데이터를 전달하거나 쿼리를 실행할 때 문제가 발생할 수 있다.<br>
이 경우, 적절한 인코딩 설정을 맞춰주어야 한다.

4. 권한 및 권한 부여<br>
데이터베이스 간 접근 권한과 사용자 권한 설정을 확인한다.
데이터를 가져오거나 전송할 때 필요한 권한이 충분한지 확인해야 한다.

5. 오류 메시지 및 로그 분석<br>
발생하는 오류 메시지나 로그를 분석하여 문제를 파악한다.<br>
종종 오류 메시지에 원인에 대한 힌트가 있을 수 있다.

6. 맵핑 및 변환<br>
서로 다른 데이터베이스 스키마 간의 필드 맵핑이나 데이터 형식 변환에 주의해야 한다.<br>
데이터 형식이나 구조가 다르면 변환이 필요할 수 있다.

7. 테스트와 모의 작업<br>
모든 설정을 확인한 후에는 실제 데이터를 이전하기 전에 테스트 및 모의 작업을 수행해야 한다.<br>
작은 양의 데이터부터 시작하여 전체 전송 전까지 여러 단계를 거쳐 확인한다.

<br>

내가 삽질했던 `not a vaild month` 에러는 날짜 형식이 잘못 입력되었거나, 다른 환경 설정으로 인해 발생할 수 있는 문제 중 하나라고 한다.<br>
이 문제는 언어 및 로캘 설정이 다를 경우 발생할 수 있기 때문에 두 DB 간에 설정을 맞추는 것이 중요하다.<br>
또는 데이터를 전달할 때, 오라클의 `TO_DATE` 함수를 사용하여 명시적으로 날짜 형식을 지정해 주는 것이 도움이 될 수 있다.<br>
위 함수를 통해 날짜 형식이 일관되게 변환되어 오류를 방지할 수 있다.
